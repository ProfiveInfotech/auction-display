<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Auction Display</title>

<!-- Correct: external CSS -->
<link rel="stylesheet" href="Styles.css">
</head>

<body>

<!-- Slideshow UI already exists -->
<div id="topbar">
    <button onclick="prevSlide()">â® Prev</button>
    <button onclick="togglePause()">â¯ Pause</button>
    <button onclick="nextSlide()">â­ Next</button>
    <button onclick="refresh()">ğŸ”„ Refresh</button>

    <div id="countdown">â€“</div>
    <div id="counter">0 / 0</div>
</div>

<div id="stage"></div>

<!-- Correct: external JS -->
<script src="app.js"></script>

<script>
/*********************************************************
 * ENTRY GATE â€” THIS IS THE ONLY REQUIRED CHANGE
 *********************************************************/
document.addEventListener("DOMContentLoaded", () => {

    // This flag MUST already be set by Link Your Data page
    const isLinked = localStorage.getItem("AUCTION_DATA_LINKED");

    if (!isLinked) {
        // HARD redirect â€” no black screen ever
        window.location.href = "link.html";
        return;
    }

    // If linked, normal auction init continues inside app.js
});
</script>

</body>
</html>
